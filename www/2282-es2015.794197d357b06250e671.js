(self.webpackChunkdriver=self.webpackChunkdriver||[]).push([[2282],{2282:function(e,n,o){"use strict";o.r(n),o.d(n,{RegisterPageModule:function(){return q}});var t=o(8583),i=o(3679),s=o(2859),r=o(3025),a=o(5257),c=o(7716),g=o(5469),l=o(7556),u=o(5620),d=o(1792),p=o(4207);function Z(e,n){if(1&e){const e=c.EpF();c.TgZ(0,"div",7),c.TgZ(1,"ion-list",10),c.TgZ(2,"ion-item"),c.TgZ(3,"ion-label",11),c._uU(4,"Nome Completo"),c.qZA(),c.TgZ(5,"ion-input",12),c.NdJ("ngModelChange",function(n){return c.CHM(e),c.oxw().userInfo.name=n}),c.qZA(),c.qZA(),c.TgZ(6,"ion-item"),c.TgZ(7,"ion-label",11),c._uU(8,"Email"),c.qZA(),c.TgZ(9,"ion-input",13),c.NdJ("ngModelChange",function(n){return c.CHM(e),c.oxw().userInfo.email=n}),c.qZA(),c.qZA(),c.TgZ(10,"ion-item"),c.TgZ(11,"ion-label",11),c._uU(12,"Senha (MIN 6 digitos)"),c.qZA(),c.TgZ(13,"ion-input",14),c.NdJ("ngModelChange",function(n){return c.CHM(e),c.oxw().userInfo.password=n}),c.qZA(),c.qZA(),c.TgZ(14,"ion-item"),c.TgZ(15,"ion-label",11),c._uU(16,"Fone"),c.qZA(),c.TgZ(17,"ion-input",15),c.NdJ("ngModelChange",function(n){return c.CHM(e),c.oxw().userInfo.phoneNumber=n}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(18,"div",16),c.TgZ(19,"ion-button",17),c.NdJ("click",function(){return c.CHM(e),c.oxw().goto("step2")}),c._uU(20,"Cadastrar"),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(5),c.Q6J("ngModel",e.userInfo.name),c.xp6(4),c.Q6J("ngModel",e.userInfo.email),c.xp6(4),c.Q6J("ngModel",e.userInfo.password),c.xp6(4),c.Q6J("ngModel",e.userInfo.phoneNumber)}}function h(e,n){1&e&&(c.TgZ(0,"p",26),c._uU(1," Upload realizado com sucesso "),c.qZA())}function f(e,n){if(1&e){const e=c.EpF();c.TgZ(0,"div"),c.TgZ(1,"ion-list",10),c.TgZ(2,"ion-item"),c.TgZ(3,"ion-label",11),c._uU(4,"Marca do Ve\xedculo"),c.qZA(),c.TgZ(5,"ion-input",18),c.NdJ("ngModelChange",function(n){return c.CHM(e),c.oxw().userInfo.brand=n}),c.qZA(),c.qZA(),c.TgZ(6,"ion-item"),c.TgZ(7,"ion-label",11),c._uU(8,"Modelo"),c.qZA(),c.TgZ(9,"ion-input",19),c.NdJ("ngModelChange",function(n){return c.CHM(e),c.oxw().userInfo.model=n}),c.qZA(),c.qZA(),c.TgZ(10,"ion-item"),c.TgZ(11,"ion-label",11),c._uU(12,"Placa"),c.qZA(),c.TgZ(13,"ion-input",20),c.NdJ("ngModelChange",function(n){return c.CHM(e),c.oxw().userInfo.plate=n}),c.qZA(),c.qZA(),c.YNc(14,h,2,0,"p",21),c.TgZ(15,"div",22),c.NdJ("click",function(){return c.CHM(e),c.oxw().chooseDocs()}),c._UZ(16,"ion-icon",23),c.TgZ(17,"p"),c._uU(18,"Clique para Upload"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(19,"div"),c.TgZ(20,"form",24),c.TgZ(21,"input",25),c.NdJ("change",function(){return c.CHM(e),c.oxw().uploadDocs()}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(22,"div",16),c.TgZ(23,"ion-button",17),c.NdJ("click",function(){return c.CHM(e),c.oxw().signup()}),c._uU(24,"Registrar"),c.qZA(),c.qZA(),c.qZA()}if(2&e){const e=c.oxw();c.xp6(5),c.Q6J("ngModel",e.userInfo.brand),c.xp6(4),c.Q6J("ngModel",e.userInfo.model),c.xp6(4),c.Q6J("ngModel",e.userInfo.plate),c.xp6(1),c.Q6J("ngIf",e.userInfo.docsURL)}}const m=[{path:"",component:(()=>{class e{constructor(e,n,o,t,i,s,r){this.translate=e,this.auth=n,this.common=o,this.afStorage=t,this.settingService=i,this.menuCtrl=s,this.router=r,this.userInfo={},this.step="step1",this.types=[],this.settings={},this.settingService.getSettings().subscribe(e=>this.settings=null!=e?e.payload.val():{})}ionViewDidEnter(){this.menuCtrl.enable(!1)}ngOnInit(){this.settingService.getVehicleType().pipe((0,a.q)(1)).subscribe(e=>{null===e?this.settingService.getDefaultVehicleType().pipe((0,a.q)(1)).subscribe(e=>{console.log(e),this.types=Object.keys(e).map(function(n){return e[n]})}):this.types=Object.keys(e).map(function(n){return e[n]})})}goto(e){this.step=e}openTerms(){window.open(this.settings.driverTermsURL,"_blank")}openPrivacy(){window.open(this.settings.driverPrivacyURL,"_blank")}signup(){console.log(this.userInfo),this.common.showLoader(),this.userInfo.rating=parseInt(this.settings.driverInitialRating),this.userInfo.balance=parseFloat(this.settings.driverSignupBonus),this.userInfo.type="suv",this.auth.register(this.userInfo).subscribe(()=>{this.common.hideLoader(),localStorage.setItem("isLoggedInTec","true"),this.router.navigateByUrl("/home")},e=>{this.common.hideLoader(),this.common.showToast(e.message)})}chooseDocs(){document.getElementById("docsPDF").click()}uploadDocs(){this.common.showLoader();for(let e of[document.getElementById("docsPDF").files[0]]){console.log(e.name);let n="/users/"+Date.now()+`${e.name}`,o=this.afStorage.ref(n);o.put(e).then(()=>{o.getDownloadURL().subscribe(e=>this.userInfo.docsURL=e),this.common.hideLoader()}).catch(e=>{this.common.hideLoader(),console.log(e)})}}}return e.\u0275fac=function(n){return new(n||e)(c.Y36(g.sK),c.Y36(l.e),c.Y36(u.v),c.Y36(d.Q1),c.Y36(p.R),c.Y36(s._q),c.Y36(r.F0))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-register"]],decls:20,vars:2,consts:[["color","dark"],["slot","start"],[1,"ion-text-center"],[1,"login-header"],["src","../../assets/img/logo.png"],["class","ion-padding",4,"ngIf"],[4,"ngIf"],[1,"ion-padding"],[1,"termsText"],[1,"link",3,"click"],["lines","none"],["position","stacked"],["type","text",3,"ngModel","ngModelChange"],["type","email",3,"ngModel","ngModelChange"],["type","password",3,"ngModel","ngModelChange"],["type","tel",3,"ngModel","ngModelChange"],[2,"padding","0px 16px"],["color","dark","expand","block",3,"click"],["type","text","placeholder","Marca do Veiculo",3,"ngModel","ngModelChange"],["type","text","placeholder","Modelo",3,"ngModel","ngModelChange"],["type","text","placeholder","Placa",3,"ngModel","ngModelChange"],["style","text-align: center; color: #4caf50",4,"ngIf"],[1,"uploadDiv",3,"click"],["name","cloud-upload"],["ngNoForm",""],["id","docsPDF","name","file","type","file",3,"change"],[2,"text-align","center","color","#4caf50"]],template:function(e,n){1&e&&(c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar",0),c.TgZ(2,"ion-buttons",1),c._UZ(3,"ion-back-button"),c.qZA(),c.TgZ(4,"ion-title",2),c._uU(5," Cadastrar "),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"ion-content"),c.TgZ(7,"div",3),c._UZ(8,"img",4),c.qZA(),c.TgZ(9,"div"),c.YNc(10,Z,21,4,"div",5),c.YNc(11,f,25,4,"div",6),c.qZA(),c.TgZ(12,"div",7),c.TgZ(13,"p",8),c._uU(14," Para se cadastrar voc\xea precisa aceitar nossos "),c.TgZ(15,"span",9),c.NdJ("click",function(){return n.openTerms()}),c._uU(16,"termos & condi\xe7\xf5es"),c.qZA(),c._uU(17," & "),c.TgZ(18,"span",9),c.NdJ("click",function(){return n.openPrivacy()}),c._uU(19,"pol\xedtica de privacidade"),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(10),c.Q6J("ngIf","step1"==n.step),c.xp6(1),c.Q6J("ngIf","step2"==n.step))},directives:[s.Gu,s.sr,s.Sm,s.oU,s.cs,s.wd,s.W2,t.O5,s.q_,s.Ie,s.Q$,s.pK,s.j9,i.JJ,i.On,s.YG,s.gu],styles:[".header-md[_ngcontent-%COMP%]:after{background-image:none!important}.uploadDiv[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:120px;background:#f9f9f9;margin:16px}"]}),e})()}];let T=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[r.Bz.forChild(m)],r.Bz]}),e})(),q=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[t.ez,i.u5,s.Pc,g.aw,T]]}),e})()}}]);
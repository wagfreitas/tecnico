!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function t(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n}(self.webpackChunkdriver=self.webpackChunkdriver||[]).push([[6793],{6793:function(e,i,o){"use strict";o.r(i),o.d(i,{SettingsPageModule:function(){return A}});var s,u,r=o(8583),a=o(3679),c=o(2859),l=o(3025),h=o(2340),g=o(7716),f=o(5469),p=o(5620),Z=o(7556),d=o(8969),b=o(4207),m=[{path:"",component:(s=function(){function e(t,i,o,s,u,r){var a=this;n(this,e),this.translate=t,this.common=i,this.authService=o,this.fcm=s,this.ss=u,this.router=r,this.settings={},this.langArr=[],this.lang="en",this.user={},this.langArr=h.NZ.langArr,this.lang=this.common.getLang(),this.ss.getSettings().subscribe(function(n){return a.settings=null!=n?n.payload.val():{}})}return t(e,[{key:"ngOnInit",value:function(){var n=this;this.authService.getUserData().then(function(e){n.authService.getUser(e.uid).valueChanges().subscribe(function(e){return n.user=e})})}},{key:"changeLang",value:function(){this.common.changeLang(this.lang)}},{key:"openSupport",value:function(){window.open(this.settings.driverSupportURL,"_blank")}},{key:"change",value:function(){var n=this;console.log(this.user.isPushEnabled),0==this.user.isPushEnabled||null==this.user.isPushEnabled?this.fcm.getToken().then(function(e){n.authService.getUser(n.user.uid).update({isPushEnabled:!0,pushToken:e})}).catch(function(e){console.log(e),n.authService.getUser(n.user.uid).update({isPushEnabled:!1,pushToken:null})}):this.authService.getUser(this.user.uid).update({isPushEnabled:!1,pushToken:null})}},{key:"logout",value:function(){var n=this;this.authService.logout().then(function(){localStorage.clear(),n.router.navigateByUrl("/login",{skipLocationChange:!0,replaceUrl:!0})})}}]),e}(),s.\u0275fac=function(n){return new(n||s)(g.Y36(f.sK),g.Y36(p.v),g.Y36(Z.e),g.Y36(d.L),g.Y36(b.R),g.Y36(l.F0))},s.\u0275cmp=g.Xpm({type:s,selectors:[["app-settings"]],decls:33,vars:4,consts:[["color","dark"],["slot","start"],[1,"ion-text-center"],["slot","end"],[3,"click"],["name","log-out"],["lines","none"],["onerror","this.src='./assets/img/default-dp.png'",3,"src"],[2,"font-weight","500"],["slot","end","color","dark","fill","outline","routerLink","/profile"],["slot","start","name","notifications"],["slot","end",3,"ngModel","click","ngModelChange"],["slot","start","name","help-buoy"]],template:function(n,e){1&n&&(g.TgZ(0,"ion-header"),g.TgZ(1,"ion-toolbar",0),g.TgZ(2,"ion-buttons",1),g._UZ(3,"ion-menu-button"),g.qZA(),g.TgZ(4,"ion-title",2),g._uU(5,"Configura\xe7\xf5es"),g.qZA(),g.TgZ(6,"ion-buttons",3),g.TgZ(7,"ion-button",4),g.NdJ("click",function(){return e.logout()}),g._UZ(8,"ion-icon",5),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(9,"ion-content"),g.TgZ(10,"ion-list",6),g.TgZ(11,"ion-item"),g.TgZ(12,"ion-avatar",1),g._UZ(13,"img",7),g.qZA(),g.TgZ(14,"ion-label"),g.TgZ(15,"h3",8),g._uU(16),g.qZA(),g.TgZ(17,"p"),g._uU(18),g.qZA(),g.qZA(),g.TgZ(19,"ion-button",9),g._uU(20,"Editar"),g.qZA(),g.qZA(),g.TgZ(21,"ion-item"),g._UZ(22,"ion-icon",10),g.TgZ(23,"ion-label"),g.TgZ(24,"h3"),g._uU(25,"Notifica\xe7\xf5es "),g.qZA(),g.TgZ(26,"p"),g._uU(27,"Notifica\xe7\xf5es em Texto"),g.qZA(),g.qZA(),g.TgZ(28,"ion-toggle",11),g.NdJ("click",function(){return e.change()})("ngModelChange",function(n){return e.user.isPushEnabled=n}),g.qZA(),g.qZA(),g.TgZ(29,"ion-item",4),g.NdJ("click",function(){return e.openSupport()}),g._UZ(30,"ion-icon",12),g.TgZ(31,"ion-label"),g._uU(32," Ajuda "),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&n&&(g.xp6(13),g.s9C("src",e.user.photoURL,g.LSH),g.xp6(3),g.Oqu(e.user.name),g.xp6(2),g.Oqu(e.user.phoneNumber),g.xp6(10),g.Q6J("ngModel",e.user.isPushEnabled))},directives:[c.Gu,c.sr,c.Sm,c.fG,c.wd,c.YG,c.gu,c.W2,c.q_,c.Ie,c.BJ,c.Q$,c.YI,l.rH,c.ho,c.w,a.JJ,a.On],styles:[""]}),s)}],v=function(){var e=t(function e(){n(this,e)});return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[l.Bz.forChild(m)],l.Bz]}),e}(),A=((u=t(function e(){n(this,e)})).\u0275fac=function(n){return new(n||u)},u.\u0275mod=g.oAB({type:u}),u.\u0275inj=g.cJS({imports:[[r.ez,a.u5,c.Pc,v,f.aw]]}),u)}}])}();
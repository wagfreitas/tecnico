{"version":3,"sources":["./src/app/settings/settings-routing.module.ts","./src/app/settings/settings.module.ts","./src/app/settings/settings.page.ts","./src/app/settings/settings.page.scss","./src/app/settings/settings.page.html"],"names":[],"mappings":"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","file":"src_app_settings_settings_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SettingsPage } from './settings.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SettingsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SettingsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SettingsPageRoutingModule } from './settings-routing.module';\n\nimport { SettingsPage } from './settings.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SettingsPageRoutingModule,\n    TranslateModule\n  ],\n  declarations: [SettingsPage]\n})\nexport class SettingsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { CommonService } from '../services/common.service';\nimport { environment } from 'src/environments/environment';\nimport { AuthService } from '../services/auth.service';\nimport { FirebaseX } from '@ionic-native/firebase-x/ngx';\nimport { SettingService } from '../services/setting.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.page.html',\n  styleUrls: ['./settings.page.scss'],\n})\nexport class SettingsPage implements OnInit {\n  settings: any = {};\n  langArr = [];\n  lang = 'en';\n  user: any = {};\n\n  constructor(\n    private translate: TranslateService,\n    private common: CommonService,\n    private authService: AuthService,\n    private fcm: FirebaseX,\n    private ss: SettingService,\n    private router: Router\n  ) {\n\n    this.langArr = environment.langArr;\n    this.lang = this.common.getLang();\n    this.ss.getSettings().subscribe(res => res != null ? this.settings = res.payload.val() : this.settings = {});\n  }\n\n  ngOnInit() {\n    this.authService.getUserData().then((user) => {\n      this.authService.getUser(user.uid).valueChanges().subscribe(user => this.user = user)\n    });\n  }\n\n  changeLang() {\n    this.common.changeLang(this.lang);\n  }\n\n  openSupport() {\n    window.open(this.settings.driverSupportURL, \"_blank\");\n  }\n\n  change() {\n    console.log(this.user.isPushEnabled);\n    if (this.user.isPushEnabled == false || this.user.isPushEnabled == undefined) {\n      this.fcm.getToken().then(token => {\n        this.authService.getUser(this.user.uid).update({ isPushEnabled: true, pushToken: token });\n      }).catch(err => {\n        console.log(err);\n        this.authService.getUser(this.user.uid).update({ isPushEnabled: false, pushToken: null });\n      });\n    }\n    else {\n      this.authService.getUser(this.user.uid).update({ isPushEnabled: false, pushToken: null });\n    }\n  }\n\n  logout() {\n    this.authService.logout().then(() => {\n      localStorage.clear();\n      this.router.navigateByUrl('/login', { skipLocationChange: true, replaceUrl: true })\n    });\n  }\n\n}","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzZXR0aW5ncy5wYWdlLnNjc3MifQ== */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"ion-text-center\\\">Configurações</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n\\n      <ion-button (click)=\\\"logout()\\\">\\n        <ion-icon name=\\\"log-out\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list lines=\\\"none\\\">\\n    <ion-item>\\n      <ion-avatar slot=\\\"start\\\">\\n        <img src=\\\"{{user.photoURL}}\\\" onerror=\\\"this.src='./assets/img/default-dp.png'\\\" />\\n      </ion-avatar>\\n      <ion-label>\\n        <h3 style=\\\"font-weight: 500;\\\">{{user.name}}</h3>\\n        <p>{{user.phoneNumber}}</p>\\n      </ion-label>\\n      <ion-button slot=\\\"end\\\" color=\\\"dark\\\" fill=\\\"outline\\\" routerLink=\\\"/profile\\\">Editar</ion-button>\\n    </ion-item>\\n    <ion-item>\\n      <ion-icon slot=\\\"start\\\" name=\\\"notifications\\\"></ion-icon>\\n      <ion-label>\\n        <h3>Notificações </h3>\\n        <p>Notificações em Texto</p>\\n      </ion-label>\\n      <ion-toggle slot=\\\"end\\\" (click)=\\\"change()\\\" [(ngModel)]=\\\"user.isPushEnabled\\\"></ion-toggle>\\n    </ion-item>\\n    <ion-item (click)=\\\"openSupport()\\\">\\n      <ion-icon slot=\\\"start\\\" name=\\\"help-buoy\\\"></ion-icon>\\n      <ion-label>\\n       Ajuda\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}
(self.webpackChunkdriver=self.webpackChunkdriver||[]).push([[6793],{6793:function(t,e,n){"use strict";n.r(e),n.d(e,{SettingsPageModule:function(){return m}});var s=n(8583),i=n(3679),o=n(2859),r=n(3025),u=n(2340),a=n(7716),l=n(5469),c=n(5620),h=n(7556),g=n(8969),Z=n(4207);const d=[{path:"",component:(()=>{class t{constructor(t,e,n,s,i,o){this.translate=t,this.common=e,this.authService=n,this.fcm=s,this.ss=i,this.router=o,this.settings={},this.langArr=[],this.lang="en",this.user={},this.langArr=u.NZ.langArr,this.lang=this.common.getLang(),this.ss.getSettings().subscribe(t=>this.settings=null!=t?t.payload.val():{})}ngOnInit(){this.authService.getUserData().then(t=>{this.authService.getUser(t.uid).valueChanges().subscribe(t=>this.user=t)})}changeLang(){this.common.changeLang(this.lang)}openSupport(){window.open(this.settings.driverSupportURL,"_blank")}change(){console.log(this.user.isPushEnabled),0==this.user.isPushEnabled||null==this.user.isPushEnabled?this.fcm.getToken().then(t=>{this.authService.getUser(this.user.uid).update({isPushEnabled:!0,pushToken:t})}).catch(t=>{console.log(t),this.authService.getUser(this.user.uid).update({isPushEnabled:!1,pushToken:null})}):this.authService.getUser(this.user.uid).update({isPushEnabled:!1,pushToken:null})}logout(){this.authService.logout().then(()=>{localStorage.clear(),this.router.navigateByUrl("/login",{skipLocationChange:!0,replaceUrl:!0})})}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(l.sK),a.Y36(c.v),a.Y36(h.e),a.Y36(g.L),a.Y36(Z.R),a.Y36(r.F0))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-settings"]],decls:33,vars:4,consts:[["color","dark"],["slot","start"],[1,"ion-text-center"],["slot","end"],[3,"click"],["name","log-out"],["lines","none"],["onerror","this.src='./assets/img/default-dp.png'",3,"src"],[2,"font-weight","500"],["slot","end","color","dark","fill","outline","routerLink","/profile"],["slot","start","name","notifications"],["slot","end",3,"ngModel","click","ngModelChange"],["slot","start","name","help-buoy"]],template:function(t,e){1&t&&(a.TgZ(0,"ion-header"),a.TgZ(1,"ion-toolbar",0),a.TgZ(2,"ion-buttons",1),a._UZ(3,"ion-menu-button"),a.qZA(),a.TgZ(4,"ion-title",2),a._uU(5,"Configura\xe7\xf5es"),a.qZA(),a.TgZ(6,"ion-buttons",3),a.TgZ(7,"ion-button",4),a.NdJ("click",function(){return e.logout()}),a._UZ(8,"ion-icon",5),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(9,"ion-content"),a.TgZ(10,"ion-list",6),a.TgZ(11,"ion-item"),a.TgZ(12,"ion-avatar",1),a._UZ(13,"img",7),a.qZA(),a.TgZ(14,"ion-label"),a.TgZ(15,"h3",8),a._uU(16),a.qZA(),a.TgZ(17,"p"),a._uU(18),a.qZA(),a.qZA(),a.TgZ(19,"ion-button",9),a._uU(20,"Editar"),a.qZA(),a.qZA(),a.TgZ(21,"ion-item"),a._UZ(22,"ion-icon",10),a.TgZ(23,"ion-label"),a.TgZ(24,"h3"),a._uU(25,"Notifica\xe7\xf5es "),a.qZA(),a.TgZ(26,"p"),a._uU(27,"Notifica\xe7\xf5es em Texto"),a.qZA(),a.qZA(),a.TgZ(28,"ion-toggle",11),a.NdJ("click",function(){return e.change()})("ngModelChange",function(t){return e.user.isPushEnabled=t}),a.qZA(),a.qZA(),a.TgZ(29,"ion-item",4),a.NdJ("click",function(){return e.openSupport()}),a._UZ(30,"ion-icon",12),a.TgZ(31,"ion-label"),a._uU(32," Ajuda "),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(13),a.s9C("src",e.user.photoURL,a.LSH),a.xp6(3),a.Oqu(e.user.name),a.xp6(2),a.Oqu(e.user.phoneNumber),a.xp6(10),a.Q6J("ngModel",e.user.isPushEnabled))},directives:[o.Gu,o.sr,o.Sm,o.fG,o.wd,o.YG,o.gu,o.W2,o.q_,o.Ie,o.BJ,o.Q$,o.YI,r.rH,o.ho,o.w,i.JJ,i.On],styles:[""]}),t})()}];let p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[r.Bz.forChild(d)],r.Bz]}),t})(),m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.oAB({type:t}),t.\u0275inj=a.cJS({imports:[[s.ez,i.u5,o.Pc,p,l.aw]]}),t})()}}]);
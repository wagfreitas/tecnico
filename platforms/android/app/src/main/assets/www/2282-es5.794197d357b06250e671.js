!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function o(e,o,t){return o&&n(e.prototype,o),t&&n(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(self.webpackChunkdriver=self.webpackChunkdriver||[]).push([[2282],{2282:function(n,t,i){"use strict";i.r(t),i.d(t,{RegisterPageModule:function(){return b}});var r=i(8583),a=i(3679),s=i(2859),c=i(3025),u=i(5257),l=i(7716),g=i(5469),d=i(7556),p=i(5620),f=i(1792),Z=i(4207);function h(e,n){if(1&e){var o=l.EpF();l.TgZ(0,"div",7),l.TgZ(1,"ion-list",10),l.TgZ(2,"ion-item"),l.TgZ(3,"ion-label",11),l._uU(4,"Nome Completo"),l.qZA(),l.TgZ(5,"ion-input",12),l.NdJ("ngModelChange",function(e){return l.CHM(o),l.oxw().userInfo.name=e}),l.qZA(),l.qZA(),l.TgZ(6,"ion-item"),l.TgZ(7,"ion-label",11),l._uU(8,"Email"),l.qZA(),l.TgZ(9,"ion-input",13),l.NdJ("ngModelChange",function(e){return l.CHM(o),l.oxw().userInfo.email=e}),l.qZA(),l.qZA(),l.TgZ(10,"ion-item"),l.TgZ(11,"ion-label",11),l._uU(12,"Senha (MIN 6 digitos)"),l.qZA(),l.TgZ(13,"ion-input",14),l.NdJ("ngModelChange",function(e){return l.CHM(o),l.oxw().userInfo.password=e}),l.qZA(),l.qZA(),l.TgZ(14,"ion-item"),l.TgZ(15,"ion-label",11),l._uU(16,"Fone"),l.qZA(),l.TgZ(17,"ion-input",15),l.NdJ("ngModelChange",function(e){return l.CHM(o),l.oxw().userInfo.phoneNumber=e}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(18,"div",16),l.TgZ(19,"ion-button",17),l.NdJ("click",function(){return l.CHM(o),l.oxw().goto("step2")}),l._uU(20,"Cadastrar"),l.qZA(),l.qZA(),l.qZA()}if(2&e){var t=l.oxw();l.xp6(5),l.Q6J("ngModel",t.userInfo.name),l.xp6(4),l.Q6J("ngModel",t.userInfo.email),l.xp6(4),l.Q6J("ngModel",t.userInfo.password),l.xp6(4),l.Q6J("ngModel",t.userInfo.phoneNumber)}}function m(e,n){1&e&&(l.TgZ(0,"p",26),l._uU(1," Upload realizado com sucesso "),l.qZA())}function v(e,n){if(1&e){var o=l.EpF();l.TgZ(0,"div"),l.TgZ(1,"ion-list",10),l.TgZ(2,"ion-item"),l.TgZ(3,"ion-label",11),l._uU(4,"Marca do Ve\xedculo"),l.qZA(),l.TgZ(5,"ion-input",18),l.NdJ("ngModelChange",function(e){return l.CHM(o),l.oxw().userInfo.brand=e}),l.qZA(),l.qZA(),l.TgZ(6,"ion-item"),l.TgZ(7,"ion-label",11),l._uU(8,"Modelo"),l.qZA(),l.TgZ(9,"ion-input",19),l.NdJ("ngModelChange",function(e){return l.CHM(o),l.oxw().userInfo.model=e}),l.qZA(),l.qZA(),l.TgZ(10,"ion-item"),l.TgZ(11,"ion-label",11),l._uU(12,"Placa"),l.qZA(),l.TgZ(13,"ion-input",20),l.NdJ("ngModelChange",function(e){return l.CHM(o),l.oxw().userInfo.plate=e}),l.qZA(),l.qZA(),l.YNc(14,m,2,0,"p",21),l.TgZ(15,"div",22),l.NdJ("click",function(){return l.CHM(o),l.oxw().chooseDocs()}),l._UZ(16,"ion-icon",23),l.TgZ(17,"p"),l._uU(18,"Clique para Upload"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(19,"div"),l.TgZ(20,"form",24),l.TgZ(21,"input",25),l.NdJ("change",function(){return l.CHM(o),l.oxw().uploadDocs()}),l.qZA(),l.qZA(),l.qZA(),l.TgZ(22,"div",16),l.TgZ(23,"ion-button",17),l.NdJ("click",function(){return l.CHM(o),l.oxw().signup()}),l._uU(24,"Registrar"),l.qZA(),l.qZA(),l.qZA()}if(2&e){var t=l.oxw();l.xp6(5),l.Q6J("ngModel",t.userInfo.brand),l.xp6(4),l.Q6J("ngModel",t.userInfo.model),l.xp6(4),l.Q6J("ngModel",t.userInfo.plate),l.xp6(1),l.Q6J("ngIf",t.userInfo.docsURL)}}var T,q,A=[{path:"",component:(T=function(){function n(o,t,i,r,a,s,c){var u=this;e(this,n),this.translate=o,this.auth=t,this.common=i,this.afStorage=r,this.settingService=a,this.menuCtrl=s,this.router=c,this.userInfo={},this.step="step1",this.types=[],this.settings={},this.settingService.getSettings().subscribe(function(e){return u.settings=null!=e?e.payload.val():{}})}return o(n,[{key:"ionViewDidEnter",value:function(){this.menuCtrl.enable(!1)}},{key:"ngOnInit",value:function(){var e=this;this.settingService.getVehicleType().pipe((0,u.q)(1)).subscribe(function(n){null===n?e.settingService.getDefaultVehicleType().pipe((0,u.q)(1)).subscribe(function(n){console.log(n),e.types=Object.keys(n).map(function(e){return n[e]})}):e.types=Object.keys(n).map(function(e){return n[e]})})}},{key:"goto",value:function(e){this.step=e}},{key:"openTerms",value:function(){window.open(this.settings.driverTermsURL,"_blank")}},{key:"openPrivacy",value:function(){window.open(this.settings.driverPrivacyURL,"_blank")}},{key:"signup",value:function(){var e=this;console.log(this.userInfo),this.common.showLoader(),this.userInfo.rating=parseInt(this.settings.driverInitialRating),this.userInfo.balance=parseFloat(this.settings.driverSignupBonus),this.userInfo.type="suv",this.auth.register(this.userInfo).subscribe(function(){e.common.hideLoader(),localStorage.setItem("isLoggedInTec","true"),e.router.navigateByUrl("/home")},function(n){e.common.hideLoader(),e.common.showToast(n.message)})}},{key:"chooseDocs",value:function(){document.getElementById("docsPDF").click()}},{key:"uploadDocs",value:function(){var e=this;this.common.showLoader();for(var n=function(){var n=t[o];console.log(n.name);var i="/users/"+Date.now()+"".concat(n.name),r=e.afStorage.ref(i);r.put(n).then(function(){r.getDownloadURL().subscribe(function(n){return e.userInfo.docsURL=n}),e.common.hideLoader()}).catch(function(n){e.common.hideLoader(),console.log(n)})},o=0,t=[document.getElementById("docsPDF").files[0]];o<t.length;o++)n()}}]),n}(),T.\u0275fac=function(e){return new(e||T)(l.Y36(g.sK),l.Y36(d.e),l.Y36(p.v),l.Y36(f.Q1),l.Y36(Z.R),l.Y36(s._q),l.Y36(c.F0))},T.\u0275cmp=l.Xpm({type:T,selectors:[["app-register"]],decls:20,vars:2,consts:[["color","dark"],["slot","start"],[1,"ion-text-center"],[1,"login-header"],["src","../../assets/img/logo.png"],["class","ion-padding",4,"ngIf"],[4,"ngIf"],[1,"ion-padding"],[1,"termsText"],[1,"link",3,"click"],["lines","none"],["position","stacked"],["type","text",3,"ngModel","ngModelChange"],["type","email",3,"ngModel","ngModelChange"],["type","password",3,"ngModel","ngModelChange"],["type","tel",3,"ngModel","ngModelChange"],[2,"padding","0px 16px"],["color","dark","expand","block",3,"click"],["type","text","placeholder","Marca do Veiculo",3,"ngModel","ngModelChange"],["type","text","placeholder","Modelo",3,"ngModel","ngModelChange"],["type","text","placeholder","Placa",3,"ngModel","ngModelChange"],["style","text-align: center; color: #4caf50",4,"ngIf"],[1,"uploadDiv",3,"click"],["name","cloud-upload"],["ngNoForm",""],["id","docsPDF","name","file","type","file",3,"change"],[2,"text-align","center","color","#4caf50"]],template:function(e,n){1&e&&(l.TgZ(0,"ion-header"),l.TgZ(1,"ion-toolbar",0),l.TgZ(2,"ion-buttons",1),l._UZ(3,"ion-back-button"),l.qZA(),l.TgZ(4,"ion-title",2),l._uU(5," Cadastrar "),l.qZA(),l.qZA(),l.qZA(),l.TgZ(6,"ion-content"),l.TgZ(7,"div",3),l._UZ(8,"img",4),l.qZA(),l.TgZ(9,"div"),l.YNc(10,h,21,4,"div",5),l.YNc(11,v,25,4,"div",6),l.qZA(),l.TgZ(12,"div",7),l.TgZ(13,"p",8),l._uU(14," Para se cadastrar voc\xea precisa aceitar nossos "),l.TgZ(15,"span",9),l.NdJ("click",function(){return n.openTerms()}),l._uU(16,"termos & condi\xe7\xf5es"),l.qZA(),l._uU(17," & "),l.TgZ(18,"span",9),l.NdJ("click",function(){return n.openPrivacy()}),l._uU(19,"pol\xedtica de privacidade"),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(10),l.Q6J("ngIf","step1"==n.step),l.xp6(1),l.Q6J("ngIf","step2"==n.step))},directives:[s.Gu,s.sr,s.Sm,s.oU,s.cs,s.wd,s.W2,r.O5,s.q_,s.Ie,s.Q$,s.pK,s.j9,a.JJ,a.On,s.YG,s.gu],styles:[".header-md[_ngcontent-%COMP%]:after{background-image:none!important}.uploadDiv[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:120px;background:#f9f9f9;margin:16px}"]}),T)}],M=function(){var n=o(function n(){e(this,n)});return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[c.Bz.forChild(A)],c.Bz]}),n}(),b=((q=o(function n(){e(this,n)})).\u0275fac=function(e){return new(e||q)},q.\u0275mod=l.oAB({type:q}),q.\u0275inj=l.cJS({imports:[[r.ez,a.u5,s.Pc,g.aw,M]]}),q)}}])}();
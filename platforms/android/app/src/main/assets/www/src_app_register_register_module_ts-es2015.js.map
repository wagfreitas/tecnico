{"version":3,"sources":["./src/app/register/register-routing.module.ts","./src/app/register/register.module.ts","./src/app/register/register.page.ts","./src/app/register/register.page.scss","./src/app/register/register.page.html"],"names":[],"mappings":"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","file":"src_app_register_register_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RegisterPage } from './register.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RegisterPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RegisterPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RegisterPageRoutingModule } from './register-routing.module';\n\nimport { RegisterPage } from './register.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    RegisterPageRoutingModule\n  ],\n  declarations: [RegisterPage]\n})\nexport class RegisterPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { AuthService } from '../services/auth.service';\nimport { CommonService } from '../services/common.service';\nimport { MenuController } from '@ionic/angular';\nimport { AngularFireStorage } from '@angular/fire/storage';\nimport { SettingService } from '../services/setting.service';\nimport { take } from 'rxjs/operators';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.page.html',\n  styleUrls: ['./register.page.scss'],\n})\nexport class RegisterPage implements OnInit {\n  userInfo: any = {};\n  step = 'step1';\n  types: Array<any> = [];\n  settings: any = {};\n\n  constructor(\n    private translate: TranslateService,\n    private auth: AuthService,\n    private common: CommonService,\n    private afStorage: AngularFireStorage,\n    private settingService: SettingService,\n    private menuCtrl: MenuController,\n    private router: Router\n  ) {\n    this.settingService.getSettings().subscribe(res => res != null ? this.settings = res.payload.val() : this.settings = {});\n  }\n\n  ionViewDidEnter(){\n    this.menuCtrl.enable(false);\n  }\n\n  ngOnInit() {\n    this.settingService.getVehicleType().pipe(take(1)).subscribe((snapshot: any) => {\n      if (snapshot === null) {\n        this.settingService.getDefaultVehicleType().pipe(take(1)).subscribe((snapshot: any) => {\n        console.log(snapshot);\n          this.types = Object.keys(snapshot).map(function (key) {\n            return snapshot[key];\n          });\n        })\n      } else {\n        this.types = Object.keys(snapshot).map(function (key) {\n          return snapshot[key];\n        });\n      }\n    });\n  }\n\n  goto(step) {\n    this.step = step;\n  }\n\n  openTerms() {\n    window.open(this.settings.driverTermsURL, \"_blank\");\n  }\n  openPrivacy() {\n    window.open(this.settings.driverPrivacyURL, \"_blank\");\n  }\n\n  signup() {\n    console.log(this.userInfo)\n\n    this.common.showLoader();\n    this.userInfo.rating = parseInt(this.settings.driverInitialRating);\n    this.userInfo.balance = parseFloat(this.settings.driverSignupBonus);\n    this.userInfo.type = 'suv'\n\n    this.auth.register(this.userInfo).subscribe(\n      () => {\n        this.common.hideLoader();\n        localStorage.setItem('isLoggedInTec', 'true');\n        this.router.navigateByUrl('/home');\n      },\n      (err) => {\n        this.common.hideLoader();\n        this.common.showToast(err.message);\n      }\n    );\n  }\n\n  chooseDocs() { document.getElementById('docsPDF').click(); }\n  uploadDocs() {\n    this.common.showLoader();\n\n    for (let selectedFile of [(<HTMLInputElement>document.getElementById('docsPDF')).files[0]]) {\n      console.log(selectedFile.name);\n      let path = '/users/' + Date.now() + `${selectedFile.name}`;\n      let ref = this.afStorage.ref(path);\n      ref.put(selectedFile).then(() => {\n        ref.getDownloadURL().subscribe(url => this.userInfo.docsURL = url);\n        this.common.hideLoader();\n      }).catch(err => {\n        this.common.hideLoader();\n        console.log(err);\n      });\n    }\n  }\n}\n","export default \".header-md:after {\\n  background-image: none !important;\\n}\\n\\n.uploadDiv {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  height: 120px;\\n  background: #f9f9f9;\\n  margin: 16px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZ2lzdGVyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUFtQixpQ0FBQTtBQUVuQjs7QUFBQTtFQUNDLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtBQUdEIiwiZmlsZSI6InJlZ2lzdGVyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5oZWFkZXItbWQ6YWZ0ZXIgeyBiYWNrZ3JvdW5kLWltYWdlOiBub25lICFpbXBvcnRhbnQgfVxuXG4udXBsb2FkRGl2e1xuIGRpc3BsYXk6IGZsZXg7XG4gYWxpZ24taXRlbXM6IGNlbnRlcjtcbiBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiBoZWlnaHQ6IDEyMHB4O1xuIGJhY2tncm91bmQ6ICNmOWY5Zjk7XG4gbWFyZ2luOjE2cHg7XG59XG5cbiJdfQ== */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"ion-text-center\\\"> Cadastrar </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <div class=\\\"login-header\\\">\\n    <img src=\\\"../../assets/img/logo.png\\\" />\\n    <!-- <h3>{{ 'APP_NAME' | translate }}</h3>\\n    <p>{{ 'APP_SUBTEXT' | translate }} </p> -->\\n  </div>\\n  <div>\\n    <div class=\\\"ion-padding\\\" *ngIf=\\\"step == 'step1'\\\">\\n      <ion-list lines=\\\"none\\\">\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Nome Completo</ion-label>\\n          <ion-input type=\\\"text\\\" [(ngModel)]=\\\"userInfo.name\\\"></ion-input>\\n        </ion-item>\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Email</ion-label>\\n          <ion-input type=\\\"email\\\" [(ngModel)]=\\\"userInfo.email\\\"></ion-input>\\n        </ion-item>\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Senha (MIN 6 digitos)</ion-label>\\n          <ion-input type=\\\"password\\\" [(ngModel)]=\\\"userInfo.password\\\"></ion-input>\\n        </ion-item>\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Fone</ion-label>\\n          <ion-input type=\\\"tel\\\" [(ngModel)]=\\\"userInfo.phoneNumber\\\"></ion-input>\\n        </ion-item>\\n      </ion-list>\\n      <div style=\\\"padding: 0px 16px\\\">\\n        <ion-button color=\\\"dark\\\" expand=\\\"block\\\" (click)=\\\"goto('step2')\\\">Cadastrar</ion-button>\\n      </div>\\n    </div>\\n    <div *ngIf=\\\"step == 'step2'\\\">\\n      <ion-list lines=\\\"none\\\">\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Marca do Veículo</ion-label>\\n          <ion-input\\n            type=\\\"text\\\"\\n            [(ngModel)]=\\\"userInfo.brand\\\"\\n            placeholder=\\\"Marca do Veiculo\\\"\\n          ></ion-input>\\n        </ion-item>\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Modelo</ion-label>\\n          <ion-input type=\\\"text\\\" [(ngModel)]=\\\"userInfo.model\\\" placeholder=\\\"Modelo\\\"></ion-input>\\n        </ion-item>\\n        <ion-item>\\n          <ion-label position=\\\"stacked\\\">Placa</ion-label>\\n          <ion-input type=\\\"text\\\" [(ngModel)]=\\\"userInfo.plate\\\" placeholder=\\\"Placa\\\"></ion-input>\\n        </ion-item>\\n\\n        <p style=\\\"text-align: center; color: #4caf50\\\" *ngIf=\\\"userInfo.docsURL\\\">\\n          Upload realizado com sucesso\\n        </p>\\n        <div (click)=\\\"chooseDocs()\\\" class=\\\"uploadDiv\\\">\\n          <ion-icon name=\\\"cloud-upload\\\"></ion-icon>\\n          <p>Clique para Upload</p>\\n        </div>\\n      </ion-list>\\n      <div>\\n        <form ngNoForm>\\n          <input id=\\\"docsPDF\\\" name=\\\"file\\\" type=\\\"file\\\" (change)=\\\"uploadDocs()\\\" />\\n        </form>\\n      </div>\\n      <div style=\\\"padding: 0px 16px\\\">\\n        <ion-button color=\\\"dark\\\" expand=\\\"block\\\" (click)=\\\"signup()\\\">Registrar</ion-button>\\n      </div>\\n    </div>\\n  </div>\\n  <div class=\\\"ion-padding\\\">\\n    <p class=\\\"termsText\\\">\\n      Para se cadastrar você precisa aceitar nossos\\n      <span class=\\\"link\\\" (click)=\\\"openTerms()\\\">termos & condições</span> &\\n      <span class=\\\"link\\\" (click)=\\\"openPrivacy()\\\">política de privacidade</span>\\n    </p>\\n  </div>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}
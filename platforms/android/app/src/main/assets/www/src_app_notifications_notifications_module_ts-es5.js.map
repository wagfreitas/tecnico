{"version":3,"sources":["webpack:///src/app/notifications/notifications-routing.module.ts","webpack:///src/app/notifications/notifications.module.ts","webpack:///src/app/notifications/notifications.page.ts","webpack:///src/app/notifications/notifications.page.scss","webpack:///src/app/notifications/notifications.page.html"],"names":["routes","path","component","NotificationsPage","NotificationsPageRoutingModule","NgModule","imports","RouterModule","exports","NotificationsPageModule","CommonModule","FormsModule","IonicModule","TranslateModule","declarations","db","cs","afAuth","authService","router","notifications","showLoader","list","snapshotChanges","subscribe","snap","tmp","forEach","n","payload","val","type","push","key","reverse","hideLoader","logout","then","localStorage","clear","navigateByUrl","skipLocationChange","replaceUrl","AngularFireDatabase","CommonService","AngularFireAuth","AuthService","Router","Component","selector","template"],"mappings":"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","file":"src_app_notifications_notifications_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NotificationsPage } from './notifications.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NotificationsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NotificationsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NotificationsPageRoutingModule } from './notifications-routing.module';\n\nimport { NotificationsPage } from './notifications.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    NotificationsPageRoutingModule\n  ],\n  declarations: [NotificationsPage]\n})\nexport class NotificationsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { CommonService } from '../services/common.service';\nimport { AngularFireAuth } from '@angular/fire/auth';\nimport { AuthService } from '../services/auth.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-notifications',\n  templateUrl: './notifications.page.html',\n  styleUrls: ['./notifications.page.scss'],\n})\nexport class NotificationsPage implements OnInit {\n\n  notifications: any = [];\n\n  constructor(\n    private db: AngularFireDatabase,\n    private cs: CommonService,\n    private afAuth: AngularFireAuth,\n    private authService: AuthService, \n    private router: Router\n  ) { }\n\n  ngOnInit() { }\n\n\n\n  ionViewDidEnter() {\n    this.cs.showLoader();\n\n    this.db.list('notifications').snapshotChanges().subscribe((snap: any) => {\n\n      if (snap != null) {\n        let tmp = [];\n        snap.forEach(n => {\n          if (n.payload.val().type == 'drivers' || n.payload.val().type == 'both')\n            tmp.push({ key: n.key, ...n.payload.val() });\n          return false;\n        })\n        this.notifications = tmp.reverse();\n      }\n\n      this.cs.hideLoader();\n    });\n  }\n\n  logout() {\n    this.authService.logout().then(() => {\n      localStorage.clear();\n      this.router.navigateByUrl('/login', { skipLocationChange: true, replaceUrl: true })\n    });\n  }\n\n}\n","export default \"h3 {\\n  font-size: 20px;\\n  font-weight: 500;\\n}\\n\\np {\\n  white-space: pre-wrap;\\n  color: #555;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdGlmaWNhdGlvbnMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0FBQ0o7O0FBRUE7RUFDSSxxQkFBQTtFQUNBLFdBQUE7QUFDSiIsImZpbGUiOiJub3RpZmljYXRpb25zLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImgze1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICBmb250LXdlaWdodDogNTAwO1xufVxuXG5we1xuICAgIHdoaXRlLXNwYWNlOiBwcmUtd3JhcDtcbiAgICBjb2xvcjogIzU1NTtcbn0iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"ion-text-center\\\">Notifficações</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"logout()\\\">\\n        <ion-icon name=\\\"log-out\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <p *ngIf=\\\"notifications.length == 0\\\" style=\\\"margin-top: 5px; text-align: center\\\">Nenhuma notificação encontrada</p>\\n  <ion-list lines=\\\"none\\\">\\n    <ion-item *ngFor=\\\"let n of notifications\\\">\\n      <ion-label>\\n        <ion-text>\\n          <h3>{{n.title}}</h3>\\n        </ion-text>\\n        <ion-text>\\n          <p style=\\\"white-space: pre-wrap;\\\">{{n.description}}</p>\\n        </ion-text>\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\";"]}